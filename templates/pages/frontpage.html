{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="frontpage-bg">
<div class="container-fluid px-0">
  <!-- Banner 區塊 -->
  <div class="jumbotron jumbotron-fluid text-white text-center mb-5" style="background: linear-gradient(90deg, #4f8cff 0%, #38c6ff 100%); border-radius: 0 0 40px 40px;">
    <div class="container py-5">
      <h1 class="display-4 mb-3" style="font-weight: bold;">
        <span style="font-size:2.5rem;">🌈 歡迎來到開心書店</span>
      </h1>
      <p class="lead" style="font-size:1.3rem;">
        每一本書都是打開快樂大門的鑰匙。<br>
        讓文字撫慰心靈，讓閱讀成為日常最治癒的儀式感！
      </p>
    </div>
  </div>
</div>

<div class="container">
  <!-- 精選推薦 -->
  <section class="mb-5 pb-4" style="background: #f8fbff; border-radius: 24px;">
    <h2 class="section-title pt-4 mb-2 ml-3 text-primary" style="font-weight: bold;">精選推薦</h2>
    <p class="mb-4 ml-3 text-secondary">我們為您精心挑選了一些書籍，這些書籍都是經過我們的細心評估。</p>
    <div class="carousel-wrapper position-relative">
      <div id="bookCarouselRecommended" class="carousel slide shadow rounded" data-ride="carousel" data-interval="2500">
        <div class="carousel-inner">
          {% for book in books_recommended %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <a href="{% url 'books:book' book.id %}">
              {% if book.photo_large %}
                <img src="{{ book.photo_large.url }}" class="d-block w-100 carousel-img" alt="{{ book.title }}">
              {% else %}
                <img src="{% static 'img/default_cover.jpg' %}" class="d-block w-100 carousel-img" alt="無封面">
              {% endif %}
              <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded px-3 py-2" style="bottom: 20px;">
                <h5 class="mb-0 text-white">{{ book.title }}</h5>
              </div>
            </a>
          </div>
          {% endfor %}
        </div>
        <ol class="carousel-indicators">
          {% for book in books_recommended %}
          <li data-target="#bookCarouselRecommended" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></li>
          {% endfor %}
        </ol>
      </div>
    </div>
  </section>

  <!-- 熱門書籍 -->
  <section class="mb-5 pb-4" style="background: #fff9f3; border-radius: 24px;">
    <h2 class="section-title pt-4 mb-2 ml-3 text-danger" style="font-weight: bold;">熱門書籍</h2>
    <p class="mb-4 ml-3 text-secondary">這些書籍是我們平台上最受歡迎的書籍，深受讀者喜愛。</p>
    <div class="carousel-wrapper position-relative">
      <div id="bookCarouselHots" class="carousel slide shadow rounded" data-ride="carousel" data-interval="2500">
        <div class="carousel-inner">
          {% for book in books_hots %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <a href="{% url 'books:book' book.id %}">
              {% if book.photo_large %}
                <img src="{{ book.photo_large.url }}" class="d-block w-100 carousel-img" alt="{{ book.title }}">
              {% else %}
                <img src="{% static 'img/default_cover.jpg' %}" class="d-block w-100 carousel-img" alt="無封面">
              {% endif %}
              <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded px-3 py-2" style="bottom: 20px;">
                <h5 class="mb-0 text-white">{{ book.title }}</h5>
              </div>
            </a>
          </div>
          {% endfor %}
        </div>
        <ol class="carousel-indicators">
          {% for book in books_hots %}
          <li data-target="#bookCarouselHots" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></li>
          {% endfor %}
        </ol>
      </div>
    </div>
  </section>

  <!-- 新書上架 -->
  <section class="mb-5 pb-4" style="background: #f6fff8; border-radius: 24px;">
    <h2 class="section-title pt-4 mb-2 ml-3 text-success" style="font-weight: bold;">新書上架</h2>
    <p class="mb-4 ml-3 text-secondary">這些是我們最新上架的書籍，為您帶來最新的閱讀體驗。</p>
    <div class="carousel-wrapper position-relative">
      <div id="bookCarouselNew" class="carousel slide shadow rounded" data-ride="carousel" data-interval="2500">
        <div class="carousel-inner">
          {% for book in books_new %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <a href="{% url 'books:book' book.id %}">
              {% if book.photo_large %}
                <img src="{{ book.photo_large.url }}" class="d-block w-100 carousel-img" alt="{{ book.title }}">
              {% else %}
                <img src="{% static 'img/default_cover.jpg' %}" class="d-block w-100 carousel-img" alt="無封面">
              {% endif %}
              <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded px-3 py-2" style="bottom: 20px;">
                <h5 class="mb-0 text-white">{{ book.title }}</h5>
              </div>
            </a>
          </div>
          {% endfor %}
        </div>
        <ol class="carousel-indicators">
          {% for book in books_new %}
          <li data-target="#bookCarouselNew" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></li>
          {% endfor %}
        </ol>
      </div>
    </div>
  </section>

  <!-- CTA 行動按鈕 -->
  <div class="mt-5 text-center">
    <h3 class="mb-4" style="font-weight: bold;">心動不如行動，請立即開始您的閱讀冒險</h3>
    <a href="{% url 'books:categories' %}" class="btn btn-contact btn-lg">
      <i class="bi bi-book-half mr-2"></i>瀏覽所有書籍
    </a>
  </div>
</div>
</div>

{% endblock %}

